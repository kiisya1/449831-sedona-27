var button=document.querySelector(".button-form-open"),form=document.querySelector(".search-form"),departureDate=form.querySelector("[name=departure-date]"),arrivalDate=form.querySelector("[name=arrival-date]"),adults=form.querySelector("[name=adults]"),children=form.querySelector("[name=children]"),sabmitButton=form.querySelector(".button-search"),isStorageSupport=!0,storage="",storageChl="";try{storage=localStorage.getItem("adults"),storageChl=localStorage.getItem("children")}catch(e){isStorageSupport=!1}function init(){var e=new ymaps.Map("map",{center:[34.869497,-111.760186],zoom:9,type:"yandex#hybrid"}),r=new ymaps.GeoObject({geometry:{type:"Point",coordinates:[34.869497,-111.760186]}},{preset:"islands#redDotIcon"});e.geoObjects.add(r)}form.classList.add("search-form-close"),button.addEventListener("click",function(e){e.preventDefault(),form.classList.contains("search-form-close")?(form.classList.remove("search-form-close"),form.classList.add("search-form-open"),storage&&(adults.value=storage),storageChl&&(children.value=storageChl),departureDate.focus()):(form.classList.remove("search-form-open"),form.classList.add("search-form-close"),form.classList.contains("search-form-error")&&form.classList.remove("search-form-error"))}),sabmitButton.addEventListener("click",function(e){departureDate.value&&arrivalDate.value&&adults.value&&children.value?isStorageSupport&&(localStorage.setItem("adults",adults.value),localStorage.setItem("children",children.value)):(e.preventDefault(),console.log("Заполнены не все поля"),form.classList.remove("search-form-error"),form.offsetWidth=form.offsetWidth,form.classList.add("search-form-error"))}),ymaps.ready(init);
